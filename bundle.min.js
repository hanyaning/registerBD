var userName=$("#userName"),loginSubmit=$("#loginSubmit"),userNameError=$("#userNameError"),userName_msg=$("#userName_msg"),userPhone=$("#userPhone"),userPhoneError=$("#userPhoneError"),userPassword_msg=$("#userPassword_msg"),userPassword=$("#userPassword"),passwordMsg=$("#passwordMsg"),userPasswordError=$("#userPasswordError"),userCode=$("#userCode"),userCodeError=$("#userCodeError"),inputVerifyCode=$("#inputVerifyCode");function userNameCheck(){var e=userName.val();if(""===e)return userNameError.html("用户名仅支持中英文数字和下划线,且不能为纯数字的正则表达式"),userName.select(),!1;if(!/^(?!(\d+)$)[\u4e00-\u9fff\w]+$/.test(e))return userNameError.html("用户名仅支持中英文数字和下划线,且不能为纯数字的正则表达式"),userName.select(),!1;var r=/^[\u4E00-\u9FA5]+$/.test(e),s=e.length;return r&&7<s||!r&&14<s?(userNameError.html("用户名不能超过7个汉字或者14个字符"),userName.select(),!1):void 0}function userPhoneCheck(){var e=userPhone.val();return""!==e&&/^[1][3,4,5,7,8][0-9]{9}$/.test(e)?void 0:(userPhoneError.html("手机号格式不正确"),userPhone.select(),!1)}function userPwdCheck(){if(""===userPassword.val())return userPasswordError.html("密码设置不符合要求"),userPassword.select(),!1}function userCodeCheck(){if(""===userCode.val())return userCodeError.html("验证码不能为空!"),userCode.select(),!1}inputVerifyCode.click(function(){if(""===userName.val())userNameCheck();else if(""===userPhone.val())userPhoneCheck();else if(""===userPassword.val())userPwdCheck();else var e=10,r=setInterval(function(){0!==--e?(inputVerifyCode.attr("value","验证码获取中("+e+")"),inputVerifyCode.attr("disabled","disabled"),inputVerifyCode.css("cursor","not-allowed")):(inputVerifyCode.attr("value","获取验证码"),inputVerifyCode.removeAttr("disabled"),inputVerifyCode.css("cursor","pointer"),userCodeError.html("请求超时，请稍后再试"),clearInterval(r))},1e3)});var isRightArr=[!0,!0,!0];function validate(e){"#userName"===e?userNameCheck():"#userPhone"===e?userPhoneCheck():"#userPassword"===e?userPwdCheck():"#userCode"===e&&userCodeCheck()}function focusoutCheck(e,r){$(e).focusout(function(){if(!1!==r())return $(e+"Error").html(""),!0;$(e).select()})}userPassword.bind("input propertychange",function(){var e=userPassword.val();if(""!==e){for(var r=0;r<isRightArr.length;r++)switch(r){case 0:e.length<8||14<e.length?isRightArr[0]=!1:isRightArr[0]=!0;break;case 1:/((?=.*[a-z])(?=.*\d)|(?=[a-z])(?=.*[#@!~%^&*])|(?=.*\d)(?=.*[#@!~%^&*]))[a-z\d#@!~%^&*]{1,14}/.test(e)?isRightArr[1]=!0:isRightArr[1]=!1;break;case 2:-1<e.indexOf(" ")?isRightArr[2]=!1:isRightArr[2]=!0;break;default:return}for(r=0;r<isRightArr.length;r++)!0===isRightArr[r]?$("#isRight"+r).html("✓"):$("#isRight"+r).html("x")}}),loginSubmit.click(function(){validate("#userName")&&validate("#userPhone")&&validate("#userPassword")&&validate("#userCode")}),userName.focus(function(){userName_msg.css("display","block")}),userName.focusout(function(){userName_msg.css("display","none")}),userPassword.focus(function(){userPassword_msg.css("display","block")}),userPassword.focusout(function(){userPassword_msg.css("display","none")}),passwordMsg.click(function(){userPassword_msg.css("display","block")}),focusoutCheck("#userName",userNameCheck),focusoutCheck("#userPhone",userPhoneCheck),focusoutCheck("#userPassword",userPwdCheck),focusoutCheck("#userCode",userCodeCheck);